
workflows:
  - name: CI Policy on Pull Requests
    run:
      # Commit messages must comply with conventional commits
      - forEach:
          value: $commitMessage
          in: $commits()
          do:
            - if: $matchString("(fix|feat|docs):.+", $commitMessage) == false
              then: '$failCheckStatus($sprintf("The following commit message does not comply with conventional commits: %s", [$commitMessage]))'
